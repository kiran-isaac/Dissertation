\definecolor{commentgray}{rgb}{0.5,0.5,0.5}
\definecolor{number}{rgb}{0, 0, 0}

\lstdefinelanguage{Rust}{
  morekeywords={
    as, break, const, continue, crate, else, enum, extern, false, fn,
    for, if, impl, in, let, loop, match, mod, move, mut, pub, ref, return,
    self, Self, static, struct, super, trait, true, type, unsafe, use, where,
    while, dyn, abstract, become, box, do, final, macro, override, priv, try,
    typeof, unsized, virtual, yield, await
  },
  sensitive=true,
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]{"},
  keywordstyle=\color{blue}\bfseries,
  stringstyle=\color{orange},
  commentstyle=\color{commentgray},
  showstringspaces=false,
  tabsize=2,
  breaklines=true,
  numbers=left,
  numberstyle=\scriptsize,
  stepnumber=1,
  numbersep=8pt,
  showstringspaces=false,
  breaklines=true,
  comment=[l]//,
  keepspaces=true,
  morecomment=[s]{/*}{*/},
}

\lstdefinelanguage{nolang_numbers}{
  sensitive=true,
  keywordstyle=\color{blue}\bfseries,
  stringstyle=\color{orange},
  commentstyle=\color{commentgray},
  showstringspaces=false,
  tabsize=2,
  breaklines=true,
  numbers=left,
  numberstyle=\scriptsize,
  stepnumber=1,
  numbersep=8pt,
  showstringspaces=false,
  breaklines=true,
  keepspaces=true,
  literate=
  *{0}{{{\color{number}0}}}{1}
   {1}{{{\color{number}1}}}{1}
   {2}{{{\color{number}2}}}{1}
   {3}{{{\color{number}3}}}{1}
   {4}{{{\color{number}4}}}{1}
   {5}{{{\color{number}5}}}{1}
   {6}{{{\color{number}6}}}{1}
   {7}{{{\color{number}7}}}{1}
   {8}{{{\color{number}8}}}{1}
   {9}{{{\color{number}9}}}{1}
}


\lstdefinelanguage{Rust_boxed}{
  morekeywords={
    as, break, const, continue, crate, else, enum, extern, false, fn,
    for, if, impl, in, let, loop, match, mod, move, mut, pub, ref, return,
    self, Self, static, struct, super, trait, true, type, unsafe, use, where,
    while, dyn, abstract, become, box, do, final, macro, override, priv, try,
    typeof, unsized, virtual, yield, await
  },
  sensitive=true,
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]{"},
  keywordstyle=\color{blue}\bfseries,
  stringstyle=\color{orange},
  commentstyle=\color{commentgray},
  showstringspaces=false,
  tabsize=2,
  breaklines=true,
  numbers=left,
  numberstyle=\scriptsize,
  stepnumber=1,
  numbersep=8pt,
  showstringspaces=false,
  breaklines=true,
  frame=lines,
  comment=[l]//,
  keepspaces=true,
  morecomment=[s]{/*}{*/},
  commentstyle=\color{commentgray},
  literate=
  *{0}{{{\color{number}0}}}{1}
   {1}{{{\color{number}1}}}{1}
   {2}{{{\color{number}2}}}{1}
   {3}{{{\color{number}3}}}{1}
   {4}{{{\color{number}4}}}{1}
   {5}{{{\color{number}5}}}{1}
   {6}{{{\color{number}6}}}{1}
   {7}{{{\color{number}7}}}{1}
   {8}{{{\color{number}8}}}{1}
   {9}{{{\color{number}9}}}{1}
}

\input{macros/Krishnaswami_Dunfield_macros}
\input{macros/macros}

\lstdefinelanguage{SFL}{
      sensitive = true,
      keywords={},
      otherkeywords={<=, >=, ::, =, *, +, -, ->, ., \$},
      keywords = [2]{
            if, map, foldr, filter, repeat, length, take, range, infiniteFrom, sum, Cons, Nil, Just, Nothing, Left, Right
      },
      keywords = [3]{
        Int, Bool, List, Maybe, Either,
      },
      keywords = [4]{
        match, data, type, _,
      },
      keywordstyle=\color{blue},
      keywordstyle=[2]\color{teal},
      keywordstyle=[3]\color{teal},
      keywordstyle=[4]\color{red},
      numbers=left,
      numberstyle=\scriptsize,
      stepnumber=1,
      numbersep=8pt,
      showstringspaces=false,
      breaklines=true,
      frame=lines,
      comment=[l]//,
      keepspaces=true,
      morecomment=[s]{/*}{*/},
      commentstyle=\color{commentgray},
      literate=
      *{0}{{{\color{number}0}}}{1}
       {1}{{{\color{number}1}}}{1}
       {2}{{{\color{number}2}}}{1}
       {3}{{{\color{number}3}}}{1}
       {4}{{{\color{number}4}}}{1}
       {5}{{{\color{number}5}}}{1}
       {6}{{{\color{number}6}}}{1}
       {7}{{{\color{number}7}}}{1}
       {8}{{{\color{number}8}}}{1}
       {9}{{{\color{number}9}}}{1}
} %

\lstdefinelanguage{SFL_noprelude}{
      sensitive = true,
      keywords={},
      otherkeywords={<=, >=, ::, =, *, +, -, ->, \$},
      keywords = [2]{
      },
      keywords = [3]{
        Int, Bool
      },
      keywords = [4]{        
        match, data, type, _,
      },
      keywordstyle=\color{blue},
      keywordstyle=[2]\color{teal},
      keywordstyle=[3]\color{teal},
      keywordstyle=[4]\color{red},
      numbers=left,
      numberstyle=\scriptsize,
      stepnumber=1,
      numbersep=8pt,
      showstringspaces=false,
      breaklines=true,
      frame=lines,
      comment=[l]//,
      keepspaces=true,
      morecomment=[s]{/*}{*/},
      commentstyle=\color{commentgray},
      literate=
      *{0}{{{\color{number}0}}}{1}
       {1}{{{\color{number}1}}}{1}
       {2}{{{\color{number}2}}}{1}
       {3}{{{\color{number}3}}}{1}
       {4}{{{\color{number}4}}}{1}
       {5}{{{\color{number}5}}}{1}
       {6}{{{\color{number}6}}}{1}
       {7}{{{\color{number}7}}}{1}
       {8}{{{\color{number}8}}}{1}
       {9}{{{\color{number}9}}}{1}
} %

\lstdefinelanguage{SFL_ite}{
      sensitive = true,
      keywords={},
      otherkeywords={<=, >=, ::, =, *, +, -, ->, \$},
      keywords = [2]{
            % if, then, else
      },
      keywords = [3]{
        % Int, Bool, List, Maybe, Either
      },
      keywords = [4]{
        if, then, else
      },
      keywordstyle=\color{blue},
      keywordstyle=[2]\color{teal},
      keywordstyle=[3]\color{teal},
      keywordstyle=[4]\color{red},
      numbers=left,
      numberstyle=\scriptsize,
      stepnumber=1,
      numbersep=8pt,
      showstringspaces=false,
      breaklines=true,
      frame=lines,
      comment=[l]//,
      keepspaces=true,
      morecomment=[s]{/*}{*/},
      commentstyle=\color{commentgray},
      literate=
      *{0}{{{\color{number}0}}}{1}
       {1}{{{\color{number}1}}}{1}
       {2}{{{\color{number}2}}}{1}
       {3}{{{\color{number}3}}}{1}
       {4}{{{\color{number}4}}}{1}
       {5}{{{\color{number}5}}}{1}
       {6}{{{\color{number}6}}}{1}
       {7}{{{\color{number}7}}}{1}
       {8}{{{\color{number}8}}}{1}
       {9}{{{\color{number}9}}}{1}
} %


\lstdefinelanguage{SFL_unboxed}{
      sensitive = true,
      keywords={},
      otherkeywords={<=, >=, ::, =, *, +, -, ->, \$},
      keywords = [2]{
        if, map, foldr, filter, repeat, length, take, range, infiniteFrom, sum, Cons, Nil, Just, Nothing, Left, Right
      },
      keywords = [3]{
        Int, Bool, List, Maybe, Either
      },
      keywords = [4]{
        match, data, type, _,
      },
      keywordstyle=\color{blue},
      keywordstyle=[2]\color{teal},
      keywordstyle=[3]\color{teal},
      keywordstyle=[4]\color{red},
      % numbers=left,
      % numberstyle=\scriptsize,
      % stepnumber=1,
      % numbersep=8pt,
      % showstringspaces=false,
      % breaklines=true,
      % frame=lines,
      comment=[l]//,
      keepspaces=true,
      morecomment=[s]{/*}{*/},   
      commentstyle=\color{commentgray}   ,
      literate=
      *{0}{{{\color{number}0}}}{1}
       {1}{{{\color{number}1}}}{1}
       {2}{{{\color{number}2}}}{1}
       {3}{{{\color{number}3}}}{1}
       {4}{{{\color{number}4}}}{1}
       {5}{{{\color{number}5}}}{1}
       {6}{{{\color{number}6}}}{1}
       {7}{{{\color{number}7}}}{1}
       {8}{{{\color{number}8}}}{1}
       {9}{{{\color{number}9}}}{1}
      % commentstyle=\color{purple}\ttfamily,
} %

\lstdefinelanguage{SFL_unboxed_noprelude}{
      sensitive = true,
      keywords={},
      otherkeywords={<=, >=, ::, =, *, +, -, ->, \$},
      keywords = [2]{
        % if, map, foldr, filter, repeat, length, take, range, infiniteFrom, sum, Cons, Nil, Just, Nothing, Left, Right
      },
      keywords = [3]{
        Int, Bool, % List, Maybe, Either
      },
      keywords = [4]{
        match, data, type, _,
      },
      keywordstyle=\color{blue},
      keywordstyle=[2]\color{teal},
      keywordstyle=[3]\color{teal},
      keywordstyle=[4]\color{red},
      % numbers=left,
      % numberstyle=\scriptsize,
      % stepnumber=1,
      % numbersep=8pt,
      % showstringspaces=false,
      % breaklines=true,
      % frame=lines,
      comment=[l]//,
      keepspaces=true,
      morecomment=[s]{/*}{*/},   
      commentstyle=\color{commentgray},
      literate=
      *{0}{{{\color{number}0}}}{1}
       {1}{{{\color{number}1}}}{1}
       {2}{{{\color{number}2}}}{1}
       {3}{{{\color{number}3}}}{1}
       {4}{{{\color{number}4}}}{1}
       {5}{{{\color{number}5}}}{1}
       {6}{{{\color{number}6}}}{1}
       {7}{{{\color{number}7}}}{1}
       {8}{{{\color{number}8}}}{1}
       {9}{{{\color{number}9}}}{1}   
      % commentstyle=\color{purple}\ttfamily,
} %

\lstdefinelanguage{SFL_unboxed_noprelude_notypes}{
      sensitive = true,
      keywords={},
      otherkeywords={<=, >=, ::, =, *, +, -, ->, \$},
      keywords = [2]{
        % if, map, foldr, filter, repeat, length, take, range, infiniteFrom, sum, Cons, Nil, Just, Nothing, Left, Right
      },
      keywords = [3]{
        % Int, Bool, List, Maybe, Either
      },
      keywords = [4]{
        match, data, type, _,
      },
      keywordstyle=\color{blue},
      keywordstyle=[2]\color{teal},
      keywordstyle=[3]\color{teal},
      keywordstyle=[4]\color{red},
      % numbers=left,
      % numberstyle=\scriptsize,
      % stepnumber=1,
      % numbersep=8pt,
      % showstringspaces=false,
      % breaklines=true,
      % frame=lines,
      comment=[l]//,
      keepspaces=true,
      morecomment=[s]{/*}{*/},   
      commentstyle=\color{commentgray},
      literate=
      *{0}{{{\color{number}0}}}{1}
       {1}{{{\color{number}1}}}{1}
       {2}{{{\color{number}2}}}{1}
       {3}{{{\color{number}3}}}{1}
       {4}{{{\color{number}4}}}{1}
       {5}{{{\color{number}5}}}{1}
       {6}{{{\color{number}6}}}{1}
       {7}{{{\color{number}7}}}{1}
       {8}{{{\color{number}8}}}{1}
       {9}{{{\color{number}9}}}{1}   
      % commentstyle=\color{purple}\ttfamily,
} %

\lstdefinelanguage{SFL_noprelude_numbers}{
      sensitive = true,
      keywords={},
      otherkeywords={<=, >=, ::, =, *, +, -, ->, \$},
      keywords = [2]{
        % if, map, foldr, filter, repeat, length, take, range, infiniteFrom, sum, Cons, Nil, Just, Nothing, Left, Right
      },
      keywords = [3]{
        % Int, Bool, List, Maybe, Either
      },
      keywords = [4]{
        match, data, type, _,
      },
      keywordstyle=\color{blue},
      keywordstyle=[2]\color{teal},
      keywordstyle=[3]\color{teal},
      keywordstyle=[4]\color{red},
      numbers=left,
      numberstyle=\scriptsize,
      stepnumber=1,
      numbersep=8pt,
      showstringspaces=false,
      breaklines=true,
      % frame=lines,
      comment=[l]//,
      keepspaces=true,
      morecomment=[s]{/*}{*/},   
      commentstyle=\color{commentgray},
      literate=
      *{0}{{{\color{number}0}}}{1}
       {1}{{{\color{number}1}}}{1}
       {2}{{{\color{number}2}}}{1}
       {3}{{{\color{number}3}}}{1}
       {4}{{{\color{number}4}}}{1}
       {5}{{{\color{number}5}}}{1}
       {6}{{{\color{number}6}}}{1}
       {7}{{{\color{number}7}}}{1}
       {8}{{{\color{number}8}}}{1}
       {9}{{{\color{number}9}}}{1}   
      % commentstyle=\color{purple}\ttfamily,
} %

\newcommand{\sflinline}[1]{\lstinline[language=SFL]!#1!}
