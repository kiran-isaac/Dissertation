\documentclass[oneside]{dissertation}
\usepackage{amsthm}
\usepackage{caption}  
\usepackage{subcaption}
\usepackage{array}
\usepackage{makecell}
\usepackage{longtable}
\usepackage{float}
\usepackage{listings, listings-rust}

\input{macros/Krishnaswami_Dunfield_macros}
\input{macros/macros}

\lstdefinelanguage{SFL}{
      sensitive = true,
      keywords={},
      otherkeywords={->, <=, >=, ::, ==, *, +, /, -},
      keywords = [2]{
            if, map, foldr, filter, repeat, length, take, range, infiniteFrom, sum      
      },
      keywords = [3]{
        Int, Bool, List, Maybe, Either
      },
      keywords = [4]{
        match, data, type, _, |
      },
      keywordstyle=\color{green},
      keywordstyle=[2]\color{blue},
      keywordstyle=[3]\color{teal},
      keywordstyle=[4]\color{red},
      numbers=left,
      numberstyle=\scriptsize,
      stepnumber=1,
      numbersep=8pt,
      showstringspaces=false,
      breaklines=true,
      frame=lines,
      comment=[l]{//},
      morecomment=[s]{/*}{*/},
      commentstyle=\color{purple}\ttfamily,
} %

\lstdefinelanguage{SFL_unboxed}{
      sensitive = true,
      keywords={},
      otherkeywords={->, <=, >=, ::, ==, *, +, /, -},
      keywords = [2]{
            if, map, foldr, filter, repeat, length, take, range, infiniteFrom, sum      
      },
      keywords = [3]{
        Int, Bool, List, Maybe, Either
      },
      keywords = [4]{
        match, data, type, _
      },
      keywordstyle=\color{green},
      keywordstyle=[2]\color{blue},
      keywordstyle=[3]\color{teal},
      keywordstyle=[4]\color{red},
      % numbers=left,
      % numberstyle=\scriptsize,
      % stepnumber=1,
      % numbersep=8pt,
      % showstringspaces=false,
      % breaklines=true,
      % frame=lines,
      comment=[l]{//},
      morecomment=[s]{/*}{*/},
      commentstyle=\color{purple}\ttfamily,
} %

\newcommand{\sflinline}[1]{\lstinline[language=SFL]!#1!}

\newtheoremstyle{break}{\topsep}{\topsep}{\itshape}{}{\bfseries}{}{\newline}{}

\theoremstyle{definition}
\theoremstyle{break}
\newtheorem{syntax}{Definition}
\theoremstyle{break}
\newtheorem{definition}{Definition}
\theoremstyle{break}
\newtheorem{convention}{Convention}

\begin{document}
\maketitle
\frontmatter
\input{sections/front}
\mainmatter\input{sections/intro} 
\input{sections/bg}
\input{sections/lifecycle} 
\input{sections/c1}
\input{sections/c2}
% \input{sections/design}
% \input{sections/impl}
% \input{sections/eval} 
% \input{sections/testing}
\input{sections/conclusion}
\backmatter\input{sections/end}
\end{document}
